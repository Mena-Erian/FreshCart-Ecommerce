import './polyfills.server.mjs';
import{a as V}from"./chunk-37TAVD7X.mjs";import{a as q,b as c,c as G,d as P,h as H,i as I,j as A,k as D,m as B}from"./chunk-ZKBHIU2R.mjs";import{M}from"./chunk-MREIMAJP.mjs";import{Cb as L,Hb as T,Ib as u,Pb as o,Qb as F,Rb as N,Ua as a,Vb as x,Wb as b,X as E,Xb as _,cb as R,da as w,ea as y,fa as p,ga as g,hb as s,pb as k,tb as d,xb as e,yb as n,zb as l}from"./chunk-CQFKIR7E.mjs";import"./chunk-S6KH3LOX.mjs";function $(t,i){t&1&&(l(0,"br"),o(1," - Name Is required. "))}function j(t,i){t&1&&(l(0,"br"),o(1,"- Name minLength is 6. "))}function U(t,i){t&1&&(l(0,"br"),o(1,"- Name MaxLength is 20. "))}function W(t,i){if(t&1&&(e(0,"div",6),p(),e(1,"svg",20),l(2,"path",21),n(),g(),e(3,"span",22),o(4,"Info"),n(),e(5,"div"),s(6,$,2,0)(7,j,2,0)(8,U,2,0),n()()),t&2){u();let r=_(7);a(6),d(r!=null&&r.getError("required")?6:r!=null&&r.getError("minlength")?7:r!=null&&r.getError("maxlength")?8:-1)}}function z(t,i){t&1&&(e(0,"span",23),o(1,"Email is Required!"),n())}function J(t,i){t&1&&(e(0,"span",23),o(1,"Email not Valid!"),n())}function K(t,i){if(t&1&&(e(0,"div",6),p(),e(1,"svg",20),l(2,"path",21),n(),g(),e(3,"span",22),o(4,"Info"),n(),e(5,"div"),s(6,z,2,0,"span",23)(7,J,2,0,"span",23),n()()),t&2){u();let r=_(13);a(6),d(r!=null&&r.getError("required")?6:r!=null&&r.getError("email")?7:-1)}}function O(t,i){t&1&&(e(0,"span",23),o(1,"password is Required!"),n())}function Q(t,i){t&1&&(e(0,"span",23),o(1,"password should to be more than 7 characters!"),n())}function X(t,i){if(t&1&&(e(0,"div",6),p(),e(1,"svg",20),l(2,"path",21),n(),g(),e(3,"span",22),o(4,"Info"),n(),e(5,"div"),s(6,O,2,0,"span",23)(7,Q,2,0,"span",23),n()()),t&2){u();let r=_(19);a(6),d(r!=null&&r.getError("required")?6:r!=null&&r.getError("pattern")?7:-1)}}function Y(t,i){t&1&&(e(0,"div",6),p(),e(1,"svg",20),l(2,"path",21),n(),g(),e(3,"span",22),o(4,"Info"),n(),e(5,"div")(6,"span",23),o(7,"password not match!"),n()()())}function ee(t,i){t&1&&(e(0,"span",23),o(1,"phone is Required!"),n())}function te(t,i){t&1&&(e(0,"span",23),o(1,"should to be egyption valid Number!"),n())}function ne(t,i){if(t&1&&(e(0,"div",6),p(),e(1,"svg",20),l(2,"path",21),n(),g(),e(3,"span",22),o(4,"Info"),n(),e(5,"div"),s(6,ee,2,0,"span",23)(7,te,2,0,"span",23),n()()),t&2){u();let r=_(30);a(6),d(r!=null&&r.getError("required")?6:r!=null&&r.getError("pattern")?7:-1)}}function re(t,i){if(t&1&&(e(0,"div",17),p(),e(1,"svg",20),l(2,"path",21),n(),g(),e(3,"span",22),o(4,"Info"),n(),e(5,"div")(6,"span",23),o(7),n()()()),t&2){let r=u();a(7),N("",r.msgError,"!")}}function ie(t,i){if(t&1&&(e(0,"div",18),p(),e(1,"svg",20),l(2,"path",21),n(),g(),l(3,"span",22),e(4,"div")(5,"span",23),o(6),n()()()),t&2){let r=u();a(6),F(r.msgSuccess)}}function oe(t,i){t&1&&(e(0,"span"),l(1,"i",24),n())}var Z=class t{formBuilder=E(D);authService=E(V);router=E(M);isLoading=!1;msgError="";msgSuccess="";registerForm=this.formBuilder.group({name:[null,[c.required,c.minLength(6),c.maxLength(20)]],email:[null,[c.email,c.required]],password:[null,[c.required,c.pattern(/^[\w\.\*\+\?\^\$\(\)\[\]\{\}\|\!\@\#\%\&\~\W*]{7,}$/)]],rePassword:[null,[c.required]],phone:[null,[c.required,c.pattern(/^(\+2)?01[0125][0-9]{8}$/)]]});submitForm(){this.registerForm.valid?(this.isLoading=!0,this.authService.signIn(this.registerForm.value).subscribe({next:i=>{this.isLoading=!1,this.msgError="",this.msgSuccess=i.message,console.log(i),i.message==="success"&&setTimeout(()=>{this.router.navigate(["/login"])},1e3)},error:i=>{this.isLoading=!1,this.msgError=i.error.message,console.log(i)}})):this.registerForm.markAllAsTouched()}confirmPassword(i){let r=i.get("password")?.value,m=i.get("rePassword")?.value;return r===m?null:{mismatch:!0}}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=R({type:t,selectors:[["app-register"]],decls:39,vars:14,consts:[[1,"mx-auto","w-11/12","sm:mx-0","sm:w-full"],[1,"text-3xl","font-medium","text-main-color","mb-3"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","name",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","name","type","text","id","name",1,"bg-gray-50","border","border-gray-300","text-gray-900","drop-shadow-md","text-sm","rounded-lg","focus:ring-main-color","focus:border-main-color","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-main-color","dark:focus:border-main-color"],["role","alert",1,"flex","items-center","p-4","my-3","text-sm","text-red-800","border","border-red-300","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400","dark:border-red-800"],["for","mail",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","email","type","email","id","mail",1,"bg-gray-50","border","border-gray-300","text-gray-900","drop-shadow-md","text-sm","rounded-lg","focus:ring-main-color","focus:border-main-color","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-main-color","dark:focus:border-main-color"],["for","pass",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","password","type","password","id","pass",1,"bg-gray-50","border","border-gray-300","text-gray-900","drop-shadow-md","text-sm","rounded-lg","focus:ring-main-color","focus:border-main-color","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-main-color","dark:focus:border-main-color"],["for","rePassword",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","rePassword","type","password","id","rePassword",1,"bg-gray-50","border","border-gray-300","text-gray-900","drop-shadow-md","text-sm","rounded-lg","focus:ring-main-color","focus:border-main-color","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-main-color","dark:focus:border-main-color"],[1,"mb-2"],["for","phone",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["formControlName","phone","type","tel","id","phone",1,"bg-gray-50","border","border-gray-300","text-gray-900","drop-shadow-md","text-sm","rounded-lg","focus:ring-main-color","focus:border-main-color","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-main-color","dark:focus:border-main-color"],[1,"flex","justify-between","items-center","content-center"],["role","alert",1,"flex","items-center","p-2","text-sm","text-red-800","border","border-red-300","rounded-lg","bg-red-50","dark:bg-gray-800","dark:text-red-400","dark:border-red-800"],["role","alert",1,"flex","items-center","p-2","text-sm","text-green-800","border","border-green-300","rounded-lg","bg-green-50","dark:bg-gray-800","dark:text-green-400","dark:border-green-800"],["type","submit",1,"btn-main","ms-auto","mt-6","block","focus:ring-main-color","focus:outline-main-color",3,"disabled"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"shrink-0","inline","w-4","h-4","me-3"],["d","M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"],[1,"sr-only"],[1,"font-medium","block"],[1,"fas","fa-spin","fa-spinner"]],template:function(r,m){if(r&1){let C=L();e(0,"section",0)(1,"h4",1),o(2,"Register Now"),n(),e(3,"form",2),T("ngSubmit",function(){return w(C),y(m.submitForm())}),e(4,"div",3)(5,"label",4),o(6,"Name:"),n(),x(7),l(8,"input",5),s(9,W,9,1,"div",6),n(),e(10,"div",3)(11,"label",7),o(12,"Email:"),n(),x(13),l(14,"input",8),s(15,K,8,1,"div",6),n(),e(16,"div",3)(17,"label",9),o(18,"Password:"),n(),x(19),l(20,"input",10),s(21,X,8,1,"div",6),n(),e(22,"div",3)(23,"label",11),o(24,"Re Password:"),n(),l(25,"input",12),s(26,Y,8,0,"div",6),n(),e(27,"div",13)(28,"label",14),o(29,"Phone:"),n(),x(30),l(31,"input",15),s(32,ne,8,1,"div",6),n(),e(33,"div",16),s(34,re,8,1,"div",17)(35,ie,7,1,"div",18),e(36,"button",19),o(37," Sing Up "),s(38,oe,2,0,"span"),n()()()()}if(r&2){let C;a(3),k("formGroup",m.registerForm),a(4);let f=b(m.registerForm.get("name"));a(2),d(f!=null&&f.errors&&(f!=null&&f.touched)?9:-1),a(4);let h=b(m.registerForm.get("email"));a(2),d(h!=null&&h.errors&&(h!=null&&h.touched)?15:-1),a(4);let v=b(m.registerForm.get("password"));a(2),d(v!=null&&v.errors&&(v!=null&&v.touched)?21:-1),a(5),d(m.registerForm.getError("mismatch")&&((C=m.registerForm.get("rePassword"))!=null&&C.touched)?26:-1),a(4);let S=b(m.registerForm.get("phone"));a(2),d(S!=null&&S.errors&&(S!=null&&S.touched)?32:-1),a(2),d(m.msgError?34:-1),a(),d(m.msgSuccess?35:-1),a(),k("disabled",m.registerForm.invalid||m.isLoading),a(2),d(m.isLoading?38:-1)}},dependencies:[B,H,q,G,P,I,A],encapsulation:2})};export{Z as RegisterComponent};
